function createElement$$module$js$ui$HtmlBuilder(a,b,c){a=document.createElement(a);if(b)for(let d in b)a.setAttribute(d,b[d]);c&&(a.innerHTML=c);return a}function wrapIn$$module$js$ui$HtmlBuilder(a,b,c){const d=createElement$$module$js$ui$HtmlBuilder(a,b);Array.isArray(c)?c.forEach(e=>d.appendChild(e)):d.appendChild(c);return d}
function wrapInList$$module$js$ui$HtmlBuilder(a,b){const c=[];Array.isArray(b)?b.forEach(d=>c.push(wrapIn$$module$js$ui$HtmlBuilder("li",{},d))):c.push(wrapIn$$module$js$ui$HtmlBuilder("li",{},b));return wrapIn$$module$js$ui$HtmlBuilder("ul",a,c)}function createLink$$module$js$ui$HtmlBuilder(a,b){a=createElement$$module$js$ui$HtmlBuilder("a",b,a);null==a.getAttribute("href")&&a.setAttribute("href","javascript:void(0)");return a}
function createSvgRef$$module$js$ui$HtmlBuilder(a,b){const c=document.createElementNS("http://www.w3.org/2000/svg","svg");if(!b)throw Error("attributes required for svg type");for(let d in b)c.setAttribute(d,b[d]);c.setAttributeNS(null,"viewBox",`0 0 ${b.width} ${b.height}`);c.innerHTML=`
    ${b.title?`<title>${b.title}</title>`:""}
    <use href='#${a}'/>`;return c}var module$js$ui$HtmlBuilder={};module$js$ui$HtmlBuilder.createElement=createElement$$module$js$ui$HtmlBuilder;module$js$ui$HtmlBuilder.createLink=createLink$$module$js$ui$HtmlBuilder;module$js$ui$HtmlBuilder.createSvgRef=createSvgRef$$module$js$ui$HtmlBuilder;module$js$ui$HtmlBuilder.wrapIn=wrapIn$$module$js$ui$HtmlBuilder;module$js$ui$HtmlBuilder.wrapInList=wrapInList$$module$js$ui$HtmlBuilder;var latestSnaccbarTimeout$$module$js$ui$Snacbar=null,latestReshowTimeout$$module$js$ui$Snacbar=null;function showSnacSuccess$$module$js$ui$Snacbar(a){showSnac$$module$js$ui$Snacbar(a,createSvgRef$$module$js$ui$HtmlBuilder("svg_icon_success",{class:"snac_icon svg_icon",width:"24",height:"24"}))}function showSnacError$$module$js$ui$Snacbar(a){showSnac$$module$js$ui$Snacbar(a,createSvgRef$$module$js$ui$HtmlBuilder("svg_icon_error",{class:"snac_icon svg_icon_line",width:"24",height:"24"}))}
function showSnac$$module$js$ui$Snacbar(a,b){stopReshowTimer$$module$js$ui$Snacbar();null!=latestSnaccbarTimeout$$module$js$ui$Snacbar?closeAndReopenSnacbarWithNewInfo$$module$js$ui$Snacbar(a,b):(document.getElementById("snackbar").classList.toggle("show"),document.getElementById("snac_icon").appendChild(b),document.getElementById("snac_alert").innerHTML=a,latestSnaccbarTimeout$$module$js$ui$Snacbar=setTimeout(hideSnac$$module$js$ui$Snacbar,4E3))}
function stopReshowTimer$$module$js$ui$Snacbar(){null!=latestReshowTimeout$$module$js$ui$Snacbar&&clearTimeout(latestReshowTimeout$$module$js$ui$Snacbar)}function closeAndReopenSnacbarWithNewInfo$$module$js$ui$Snacbar(a,b){clearTimeout(latestSnaccbarTimeout$$module$js$ui$Snacbar);hideSnac$$module$js$ui$Snacbar();latestReshowTimeout$$module$js$ui$Snacbar=setTimeout(showSnac$$module$js$ui$Snacbar,500,a,b)}
function hideSnac$$module$js$ui$Snacbar(){document.getElementById("snackbar").classList.toggle("show");latestSnaccbarTimeout$$module$js$ui$Snacbar=null}var module$js$ui$Snacbar={};module$js$ui$Snacbar.showSnacError=showSnacError$$module$js$ui$Snacbar;module$js$ui$Snacbar.showSnacSuccess=showSnacSuccess$$module$js$ui$Snacbar;class TootHtmlBuilder$$module$js$ui$TootHtmlBuilder{createTootDomItem(a){return wrapIn$$module$js$ui$HtmlBuilder("li",{class:"bordered single_tweet_li"},wrapIn$$module$js$ui$HtmlBuilder("div",{class:"single_tweet_wrap","data-toot-user":a.account.acct,"data-toot-user-id":a.account.id,"data-toot-id":a.id,"data-toot-url":a.url},[this.createAviDiv(a.account.display_name,a.account.avatar,a.localized_profile_url?a.localized_profile_url:a.account.url),wrapIn$$module$js$ui$HtmlBuilder("div",{class:"toot_content"},
[this.createTweetHeader(a.account.display_name,"@"+a.account.username,a.created_at),this.createContentWarningDiv(a.sensitive,a.id,a.spoiler_text),wrapIn$$module$js$ui$HtmlBuilder("a",{class:"no_hover",href:a.localized_toot_url?a.localized_toot_url:a.url},[this.createTweetContent(a.sensitive,a.id,a.content)]),this.createAttachmentsDiv(a.media_attachments,a.id,a.sensitive),this.createTootFooterDiv(a.reblogs_count,a.favourites_count,a.favourited,a.reblogged)])]))}createAviDiv(a,b,c){return wrapIn$$module$js$ui$HtmlBuilder("a",
{href:c,class:"avi_container"},createElement$$module$js$ui$HtmlBuilder("img",{class:"avi",alt:"Avatar for "+a,src:b,width:"48px",height:"48px"}))}createTweetHeader(a,b,c){return wrapIn$$module$js$ui$HtmlBuilder("div",{class:"tweet_header"},[wrapIn$$module$js$ui$HtmlBuilder("div",{class:"toot_header_names"},[createElement$$module$js$ui$HtmlBuilder("div",{class:"toot_user_name"},a),createElement$$module$js$ui$HtmlBuilder("div",{class:"toot_screen_name"},b)]),createElement$$module$js$ui$HtmlBuilder("div",
{class:"toot_time"},this.dateToString(c))])}createContentWarningDiv(a,b,c){return wrapIn$$module$js$ui$HtmlBuilder("div",{class:"toot_content_warning_container"},a?[createElement$$module$js$ui$HtmlBuilder("div",{class:"content_warning","data-toot-id":b},c)]:[])}createTweetContent(a,b,c){return createElement$$module$js$ui$HtmlBuilder("div",{class:`toot_text hidden_${b}`,style:a?"visibility: hidden":""},c)}createAttachmentsDiv(a,b,c){return wrapIn$$module$js$ui$HtmlBuilder("div",{},a.map(d=>createElement$$module$js$ui$HtmlBuilder("img",
{class:c?`toot_pic hidden_${b} blur`:"toot_pic",alt:d.description,src:d.preview_url})))}createTootFooterDiv(a,b,c,d){return wrapIn$$module$js$ui$HtmlBuilder("div",{class:"tweet_footer"},[wrapIn$$module$js$ui$HtmlBuilder("div",{class:"toot_footer_item"},[wrapIn$$module$js$ui$HtmlBuilder("button",{title:d?"Unboost":"Boost",class:`toot_footer_btn btn_action_boost ${d?"active":""}`},createSvgRef$$module$js$ui$HtmlBuilder("svg_icon_boost",{class:"svg_icon",width:"24",height:"24"})),createElement$$module$js$ui$HtmlBuilder("div",
{class:"toot_footer_txt text_boost_count"},a.toString())]),wrapIn$$module$js$ui$HtmlBuilder("div",{class:"toot_footer_item"},[wrapIn$$module$js$ui$HtmlBuilder("button",{title:c?"Unfavorite":"Favorite",class:`toot_footer_btn btn_action_favorite ${c?"active":""}`},createSvgRef$$module$js$ui$HtmlBuilder("svg_icon_fave",{class:"svg_icon",width:"24",height:"24"})),createElement$$module$js$ui$HtmlBuilder("div",{class:"toot_footer_txt text_favorite_count"},b.toString())]),wrapIn$$module$js$ui$HtmlBuilder("div",
{class:"toot_footer_item"},wrapIn$$module$js$ui$HtmlBuilder("button",{title:"Copy link",class:"toot_footer_btn btn_action_copy enabled"},createSvgRef$$module$js$ui$HtmlBuilder("svg_icon_copy",{class:"svg_icon",width:"24",height:"24"})))])}dateToString(a){var b=(Date.now()-Date.parse(a))/6E4;switch(!0){case 1>b:return"< 1m";case 60>b:return b.toFixed()+"m";case 24>b/60:return(b/60).toFixed()+"h";default:return b=(new Date(a)).toLocaleString("default",{month:"short"}),a=(new Date(a)).getDate(),`${b} ${a}`}}}
var module$js$ui$TootHtmlBuilder={};module$js$ui$TootHtmlBuilder.default=TootHtmlBuilder$$module$js$ui$TootHtmlBuilder;function displayNoConsentError$$module$js$ui$ErrorScreen(a){console.debug("Displaying error:",a);renderError$$module$js$ui$ErrorScreen(`ERROR: ${a.message}`,"\n      JustMyToots only supports opt-in for this service. If you want this page\n      to display your toots, you simply put your justmytoots.com url either\n      into your mastodon bio or into the profile metadata. Your url will look\n      something like this:</br>\n      <b>https://justmytoots.com/@<em>user</em>@<em>example.social</em></b>\n    ")}
function displayMissingUserMessage$$module$js$ui$ErrorScreen(a){console.debug("Displaying error:",a);renderError$$module$js$ui$ErrorScreen(`ERROR: ${a.message}`,"\n      Please provide a user identifier in the url. For example like\n      this:</br>\n      <a href='https://justmytoots.com/@cookie_mumbles@ohai.social'>\n        https://justmytoots.com/@cookie_mumbles@ohai.social\n      </a></br>\n      See help for more info.\n    ")}
function displayServerError$$module$js$ui$ErrorScreen(a){console.debug("Displaying error:",a);renderError$$module$js$ui$ErrorScreen(`ERROR: ${a.message}`,"\n      This might mean the server is currently unavailable, or the\n      identifier you've entered is not correct. Check if url with the\n      user is correct (see example below) or try again later.\n      </br>\n      <a href='https://justmytoots.com/@cookie_mumbles@ohai.social'>\n        https://justmytoots.com/@cookie_mumbles@ohai.social\n      </a>\n    ")}
function renderError$$module$js$ui$ErrorScreen(a,b){document.getElementById("loader_wrapper").innerHTML="";const c=document.getElementById("tweet_list");c.innerHTML="";c.appendChild(wrapIn$$module$js$ui$HtmlBuilder("li",{class:"bordered single_tweet_li",tabindex:1},wrapIn$$module$js$ui$HtmlBuilder("div",{class:"single_tweet_wrap"},wrapIn$$module$js$ui$HtmlBuilder("div",{class:"tweet_text"},createElement$$module$js$ui$HtmlBuilder("div",{},`
              <p>
                <h3>${a}</h3>
                ${b}
              </p>
              `)))))}class NoConsentError$$module$js$ui$ErrorScreen extends Error{constructor(a){super(`No consent for ${a.handle}`);this.userData=a;this.name="NoConsentError"}}var module$js$ui$ErrorScreen={};module$js$ui$ErrorScreen.NoConsentError=NoConsentError$$module$js$ui$ErrorScreen;module$js$ui$ErrorScreen.displayMissingUserMessage=displayMissingUserMessage$$module$js$ui$ErrorScreen;module$js$ui$ErrorScreen.displayNoConsentError=displayNoConsentError$$module$js$ui$ErrorScreen;
module$js$ui$ErrorScreen.displayServerError=displayServerError$$module$js$ui$ErrorScreen;class Logger$$module$js$utils$Logger{constructor(){this.ERROR=0;this.WARN=1;this.INFO=2;this.DEBUG=3;this.TRACE=4;this.logLevel=this.INFO;const a=new URLSearchParams(window.location.search);if(a.has("log"))switch(this.logLevel=Number.parseInt(a.get("log")),a.get("log")){case "e":this.logLevel=this.ERROR;break;case "w":this.logLevel=this.WARN;break;case "i":this.logLevel=this.INFO;break;case "d":this.logLevel=this.DEBUG;break;case "t":this.logLevel=this.TRACE}}e(...a){console.error(...a)}w(...a){this.logLevel>=
this.WARN&&console.warn(...a)}i(...a){this.logLevel>=this.INFO&&console.log(...a)}d(...a){this.logLevel>=this.DEBUG&&console.log(...a)}t(...a){this.logLevel>=this.TRACE&&console.log(...a)}}var module$js$utils$Logger={};module$js$utils$Logger.default=Logger$$module$js$utils$Logger;class JRequest$$module$js$utils$JRequest{static post(a,b){return JRequest$$module$js$utils$JRequest.request("POST",a,b)}static delete(a,b){return JRequest$$module$js$utils$JRequest.request("DELETE",a,b)}static put(a,b){return JRequest$$module$js$utils$JRequest.request("PUT",a,b)}static get(a,b){return JRequest$$module$js$utils$JRequest.request("GET",a,b)}static request(a,b,c,d){return new Promise(function(e,h){var f=new XMLHttpRequest;f.open(a,b);if(d)for(var g in d)f.setRequestHeader(g,d[g]);else f.setRequestHeader("Content-Type",
"application/json;charset=UTF-8");f.onload=function(){200<=this.status&&300>this.status?e(f.response):h(Error(`[${this.status}] ${f.statusText} (${f.response})`,{cause:`Http status error connecting to ${b}`}))};f.onerror=function(){h(Error("Unable to connect to server.",{cause:`Unknown problem connecting to ${b}`}))};f.ontimeout=function(){h(Error("Connection to server timed out.",{cause:`Timeout connecting to ${b}`}))};g=new Logger$$module$js$utils$Logger;g.d(`Requesting: ${b}`,c);g.t("headers:",
d);f.send(JSON.stringify(c))})}}function buildUrl$$module$js$utils$JRequest(a,b){a=new URL(a);a.search=(new URLSearchParams(b)).toString();return a}var module$js$utils$JRequest={};module$js$utils$JRequest.buildUrl=buildUrl$$module$js$utils$JRequest;module$js$utils$JRequest.default=JRequest$$module$js$utils$JRequest;function getUserDataFromUrl$$module$js$utils$Browser(){var a={},b=getUserHandle$$module$js$utils$Browser();const c=b.split("@");if(2==c.length)a.server=c[1],a.userName=c[0],a.handle=`@${a.userName}@${a.server}`;else if(3==c.length){if(""!=c[0]||""==c[2])throw Error(`Invalid username ${b}`);a.server=c[2];a.userName=c[1];a.handle=`@${a.userName}@${a.server}`}else throw Error(`Invalid username ${b}`);return a}
function getUserHandle$$module$js$utils$Browser(){const a=getUrlParams$$module$js$utils$Browser();if("/"!=window.location.pathname)return window.location.pathname.slice(1);if(a.has("acct"))return a.get("acct");throw Error("No username found.");}function clearCodeTokenFromUrl$$module$js$utils$Browser(){removeUrlSearchParam$$module$js$utils$Browser("code")}
function removeUrlSearchParam$$module$js$utils$Browser(a){const b=getUrlParams$$module$js$utils$Browser();for(;b.has(a);)b.delete(a);a=buildUrl$$module$js$utils$JRequest(window.location.href,b);window.history.replaceState({},"",a)}function addUrlSearchParam$$module$js$utils$Browser(a,b){const c=getUrlParams$$module$js$utils$Browser();c.set(a,b);a=buildUrl$$module$js$utils$JRequest(window.location.href,c);window.history.replaceState({},"",a)}
function getUrlParams$$module$js$utils$Browser(){return new URLSearchParams(window.location.search)}var module$js$utils$Browser={};module$js$utils$Browser.addUrlSearchParam=addUrlSearchParam$$module$js$utils$Browser;module$js$utils$Browser.clearCodeTokenFromUrl=clearCodeTokenFromUrl$$module$js$utils$Browser;module$js$utils$Browser.getUrlParams=getUrlParams$$module$js$utils$Browser;module$js$utils$Browser.getUserDataFromUrl=getUserDataFromUrl$$module$js$utils$Browser;
module$js$utils$Browser.getUserHandle=getUserHandle$$module$js$utils$Browser;module$js$utils$Browser.removeUrlSearchParam=removeUrlSearchParam$$module$js$utils$Browser;var cache$$module$js$utils$Cookie=null;function getDataCookie$$module$js$utils$Cookie(){if(null!=cache$$module$js$utils$Cookie)return cache$$module$js$utils$Cookie;if(0!=document.cookie.length)try{const a=document.cookie.substring(5);return cache$$module$js$utils$Cookie=JSON.parse(a)}catch{return console.error("Invalid cookie data. Deleting cookie.",document.cookie),deleteDataCookie$$module$js$utils$Cookie(),{}}else return console.warn("No cookie found"),cache$$module$js$utils$Cookie={},{}}
function setDataCookie$$module$js$utils$Cookie(a){var b=new Date;b.setDate(b.getDate()+30);null!=cache$$module$js$utils$Cookie&&(cache$$module$js$utils$Cookie=a);a=JSON.stringify(a);document.cookie=`data=${a}; expires=${b.toUTCString()}; path=/`}
function deleteDataCookie$$module$js$utils$Cookie(){document.cookie="data={};expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;";document.cookie="{};expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;";console.log("cleared cookie");cache$$module$js$utils$Cookie=null}function appendDataCookie$$module$js$utils$Cookie(a){let b=getDataCookie$$module$js$utils$Cookie();for(let c in a)b[c]=a[c];setDataCookie$$module$js$utils$Cookie(b)}var module$js$utils$Cookie={};module$js$utils$Cookie.appendDataCookie=appendDataCookie$$module$js$utils$Cookie;
module$js$utils$Cookie.deleteDataCookie=deleteDataCookie$$module$js$utils$Cookie;module$js$utils$Cookie.getDataCookie=getDataCookie$$module$js$utils$Cookie;module$js$utils$Cookie.setDataCookie=setDataCookie$$module$js$utils$Cookie;class MastodonApi$$module$js$utils$MastodonApi{static getAccountInfo(a,b,c){return JRequest$$module$js$utils$JRequest.request("GET",`https://${a}/api/v1/accounts/lookup?acct=${b}`,{},getAppropriateHeaders$$module$js$utils$MastodonApi(c))}static verifyCredentials(a,b,c){return JRequest$$module$js$utils$JRequest.request("GET",buildUrl$$module$js$utils$JRequest(`https://${a}/api/v1/apps/verify_credentials`,{client_id:b}),{},getAppropriateHeaders$$module$js$utils$MastodonApi(c))}static requestStatusses(a,
b,c,d){const e={exclude_reblogs:!0,limit:500};c&&(e.max_id=c);return JRequest$$module$js$utils$JRequest.request("GET",buildUrl$$module$js$utils$JRequest(`https://${a}/api/v1/accounts/${b}/statuses`,e),{},getAppropriateHeaders$$module$js$utils$MastodonApi(d))}static requestNewApiApp(a,b,c){return JRequest$$module$js$utils$JRequest.post(buildUrl$$module$js$utils$JRequest(`https://${b}/api/v1/apps`,{client_name:a,redirect_uris:c,scopes:getScopes$$module$js$utils$MastodonApi()}))}static requestLoginPage(a,
b,c){window.location.href=buildUrl$$module$js$utils$JRequest(`https://${a}/oauth/authorize`,{response_type:"code",client_id:b,redirect_uri:c,scope:getScopes$$module$js$utils$MastodonApi()}).toString()}static requestBearerToken(a,b,c,d,e){return JRequest$$module$js$utils$JRequest.post(buildUrl$$module$js$utils$JRequest(`https://${a}/oauth/token`,{grant_type:"authorization_code",code:b,client_id:c,client_secret:d,redirect_uri:e}))}static favorite(a,b,c){return JRequest$$module$js$utils$JRequest.request("POST",
`https://${a}/api/v1/statuses/${c}/favourite`,{},getAppropriateHeaders$$module$js$utils$MastodonApi(b))}static unfavorite(a,b,c){return JRequest$$module$js$utils$JRequest.request("POST",`https://${a}/api/v1/statuses/${c}/unfavourite`,{},getAppropriateHeaders$$module$js$utils$MastodonApi(b))}static boost(a,b,c){return JRequest$$module$js$utils$JRequest.request("POST",`https://${a}/api/v1/statuses/${c}/reblog`,{},getAppropriateHeaders$$module$js$utils$MastodonApi(b))}static unboost(a,b,c){return JRequest$$module$js$utils$JRequest.request("POST",
`https://${a}/api/v1/statuses/${c}/unreblog`,{},getAppropriateHeaders$$module$js$utils$MastodonApi(b))}}function getAppropriateHeaders$$module$js$utils$MastodonApi(a){const b={"Content-Type":"application/json;charset=UTF-8"};a&&(b.Authorization="Bearer "+a);return b}function getScopes$$module$js$utils$MastodonApi(){return"write:favourites write:statuses read"}var module$js$utils$MastodonApi={};module$js$utils$MastodonApi.default=MastodonApi$$module$js$utils$MastodonApi;function copyToClipboard$$module$js$utils$System(a){if(window.clipboardData&&window.clipboardData.setData)return window.clipboardData.setData("Text",a);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var b=document.createElement("textarea");b.textContent=a;b.style.position="fixed";document.body.appendChild(b);b.select();try{return document.execCommand("copy")}catch(c){return console.warn("Copy to clipboard failed.",c),prompt("Copy to clipboard: Ctrl+C, Enter",a)}finally{document.body.removeChild(b)}}}
var module$js$utils$System={};module$js$utils$System.copyToClipboard=copyToClipboard$$module$js$utils$System;var log$$module$js$login=new Logger$$module$js$utils$Logger;
function verifyLoginOrContinue$$module$js$login(){const a=getDataCookie$$module$js$utils$Cookie();return"bearer_token"in a?MastodonApi$$module$js$utils$MastodonApi.verifyCredentials(a.server,a.client_id,a.bearer_token).then(()=>{log$$module$js$login.i("credentials valid");document.getElementById("btn_login").textContent="Logout";Promise.resolve(!0)}).catch(b=>{log$$module$js$login.w("Credentials appear invalid. Deleting persisted values.");log$$module$js$login.e(b);deleteDataCookie$$module$js$utils$Cookie();
showSnacError$$module$js$ui$Snacbar("Login error. Please try again.");Promise.resolve(!1)}):Promise.resolve(!1)}
function performLogin$$module$js$login(a){setDataCookie$$module$js$utils$Cookie({server:a});const b=decodeURIComponent(window.location.href.toString());MastodonApi$$module$js$utils$MastodonApi.requestNewApiApp("justmytoots_test",a,b).then(function(c){console.log(c);c=JSON.parse(c);appendDataCookie$$module$js$utils$Cookie({client_id:c.client_id,client_secret:c.client_secret});clearCodeTokenFromUrl$$module$js$utils$Browser();c=getDataCookie$$module$js$utils$Cookie();MastodonApi$$module$js$utils$MastodonApi.requestLoginPage(c.server,
c.client_id,b)})}
async function handleLoginPartTwoOrContinue$$module$js$login(){var a=new URLSearchParams(window.location.search);const b=getDataCookie$$module$js$utils$Cookie();if(a.has("code")&&"client_id"in b&&!("bearer_token"in b)){log$$module$js$login.i("Continuing login...");appendDataCookie$$module$js$utils$Cookie({code:a.get("code")});clearCodeTokenFromUrl$$module$js$utils$Browser();a=decodeURIComponent(window.location.href.toString());try{const c=getDataCookie$$module$js$utils$Cookie(),d=await MastodonApi$$module$js$utils$MastodonApi.requestBearerToken(c.server,
c.code,c.client_id,c.client_secret,a),e=JSON.parse(d);appendDataCookie$$module$js$utils$Cookie({bearer_token:e.access_token});log$$module$js$login.i("Login complete")}catch(c){showSnacError$$module$js$ui$Snacbar("Error validating login. Please try again."),log$$module$js$login.e("Error during login. Deleting partial login data.",c),deleteDataCookie$$module$js$utils$Cookie()}}else return Promise.resolve()}var module$js$login={};module$js$login.handleLoginPartTwoOrContinue=handleLoginPartTwoOrContinue$$module$js$login;
module$js$login.performLogin=performLogin$$module$js$login;module$js$login.verifyLoginOrContinue=verifyLoginOrContinue$$module$js$login;function showModal$$module$js$ui$Modal(){document.getElementById("modal_background").style.display="block";addHideListeners$$module$js$ui$Modal()}function addHideListeners$$module$js$ui$Modal(){document.getElementById("model_close").onclick=function(){hideModal$$module$js$ui$Modal()};document.addEventListener("touchstart",hideIfBackground$$module$js$ui$Modal);window.onclick=hideIfBackground$$module$js$ui$Modal}
function hideIfBackground$$module$js$ui$Modal(a){a.target==document.getElementById("modal_background")&&hideModal$$module$js$ui$Modal()}function hideModal$$module$js$ui$Modal(){document.getElementById("modal_background").style.display="none";document.getElementById("modal_container").classList.remove("image")}
function showLoginModal$$module$js$ui$Modal(){showModal$$module$js$ui$Modal();let a=document.getElementById("modal_content");a.innerHTML="";a.appendChild(createElement$$module$js$ui$HtmlBuilder("h1",{},"Login to your server"));a.appendChild(createElement$$module$js$ui$HtmlBuilder("p",{},"Login to favorite and boost directly on the page."));a.appendChild(createElement$$module$js$ui$HtmlBuilder("p",{},"\n    Don't worry, your login data is <b>only saved locally</b> and uses <b>a\n    cookie</b> to save it on your machine. The premissions are to favorite\n    (<em>write:favourites</em> permission), boost (<em>write:statuses</em>\n    permission) and to verify the credentials (inexplicable broad <em>read</em>\n    permission).\n    "));
a.appendChild(wrapIn$$module$js$ui$HtmlBuilder("form",{id:"login_form_submit"},[createElement$$module$js$ui$HtmlBuilder("input",{id:"input_server",type:"text"}),createElement$$module$js$ui$HtmlBuilder("button",{id:"btn_action_login"},"submit")]));document.getElementById("login_form_submit").onsubmit=function(){const b=document.getElementById("input_server").value.trim().toLowerCase();performLogin$$module$js$login(b);return!1}}
function showAboutModal$$module$js$ui$Modal(){showModal$$module$js$ui$Modal();let a=document.getElementById("modal_content");a.innerHTML="";a.appendChild(createElement$$module$js$ui$HtmlBuilder("h1",{},"About"));a.appendChild(createElement$$module$js$ui$HtmlBuilder("p",{},"\n    This little page displays the toots but not the boosts for a user. It helps\n    people that want to showcase their toots, for example when doing jokes,\n    drawings, photos or any other form of content people might want to look\n    back through. You can login to this page (data only saved locally) so you\n    can interact with the toots if you'd like.\n    "));
a.appendChild(createElement$$module$js$ui$HtmlBuilder("p",{},"\n    To create your own, simply add the user identifier in the url. For example\n    like this:</br>\n        <b>https://justmytoots.com/@<em>user</em>@<em>example.social</em></b>\n    "));a.appendChild(createElement$$module$js$ui$HtmlBuilder("p",{},"\n    <h4>Created by</h4>\n    <a href='https://techhub.social/@cookie_mumbles'>@cookie_mumbles</a>\n    <h4>Code and Issues</h4>\n    <a href='https://github.com/cookiemumbles/justmytoots.com'>justmytoots.com@github.com</a>\n    "))}
function showImageModal$$module$js$ui$Modal(a){document.getElementById("modal_container").classList.add("image");const b=document.getElementById("modal_content");b.innerHTML="";b.appendChild(createElement$$module$js$ui$HtmlBuilder("img",{src:a}));showModal$$module$js$ui$Modal()}var module$js$ui$Modal={};module$js$ui$Modal.addHideListeners=addHideListeners$$module$js$ui$Modal;module$js$ui$Modal.hideModal=hideModal$$module$js$ui$Modal;module$js$ui$Modal.showAboutModal=showAboutModal$$module$js$ui$Modal;
module$js$ui$Modal.showImageModal=showImageModal$$module$js$ui$Modal;module$js$ui$Modal.showLoginModal=showLoginModal$$module$js$ui$Modal;module$js$ui$Modal.showModal=showModal$$module$js$ui$Modal;function addUniqueClickListenerForEachOfClass$$module$js$ui$Utils(a,b,c){Array.from(document.getElementsByClassName(b)).forEach(d=>{addUniqueEventListener$$module$js$ui$Utils(d,a,"click",c)})}function addUniqueClickListenerForId$$module$js$ui$Utils(a,b,c){addUniqueEventListener$$module$js$ui$Utils(document.getElementById(b),a,"click",c)}
function toggleHiddenElement$$module$js$ui$Utils(a){"IMG"==a.nodeName?a.classList.toggle("blur"):a.style.visibility="hidden"==a.style.visibility?"visible":"hidden"}function addUniqueListenerForEachOfClass$$module$js$ui$Utils(a,b,c,d){Array.from(document.getElementsByClassName(b)).forEach(e=>{addUniqueEventListener$$module$js$ui$Utils(e,a,c,d)})}
function addUniqueEventListener$$module$js$ui$Utils(a,b,c,d){let e=[];a.dataset.listeners&&(e=a.dataset.listeners.split(" "));e.includes(b)||(a.addEventListener(c,d),e.push(b),a.dataset.listeners=e.join(" "))}var module$js$ui$Utils={};module$js$ui$Utils.addUniqueClickListenerForEachOfClass=addUniqueClickListenerForEachOfClass$$module$js$ui$Utils;module$js$ui$Utils.addUniqueClickListenerForId=addUniqueClickListenerForId$$module$js$ui$Utils;module$js$ui$Utils.addUniqueEventListener=addUniqueEventListener$$module$js$ui$Utils;
module$js$ui$Utils.addUniqueListenerForEachOfClass=addUniqueListenerForEachOfClass$$module$js$ui$Utils;module$js$ui$Utils.toggleHiddenElement=toggleHiddenElement$$module$js$ui$Utils;var g_targetUserData$$module$js$ui$DomController=null,g_lastTootId$$module$js$ui$DomController=null,log$$module$js$ui$DomController=new Logger$$module$js$utils$Logger;
function addInitialListeners$$module$js$ui$DomController(){addUniqueClickListenerForId$$module$js$ui$Utils("loginEvent","btn_login",a=>{"Logout"==a.target.textContent?(deleteDataCookie$$module$js$utils$Cookie(),document.getElementById("btn_login").textContent="Login"):showLoginModal$$module$js$ui$Modal()});addUniqueClickListenerForId$$module$js$ui$Utils("toggleOptionsEvent","btn_options",a=>{a=document.getElementById("options_container");a.classList.contains("show")?a.classList.remove("show"):a.classList.add("show")});
addUniqueClickListenerForId$$module$js$ui$Utils("aboutEvent","btn_about",()=>{showAboutModal$$module$js$ui$Modal()});addUniqueClickListenerForId$$module$js$ui$Utils("applyOptions","btn_apply_options",()=>{location.reload()});addUniqueListenerForEachOfClass$$module$js$ui$Utils("toggleOptionsCheck","options_checkbox","change",a=>{a=a.target;let b=checkboxIdToParamName$$module$js$ui$DomController(a.id);a.checked?addUrlSearchParam$$module$js$utils$Browser(b,"true"):removeUrlSearchParam$$module$js$utils$Browser(b)})}
function updateOptionsStates$$module$js$ui$DomController(){Array.from(document.getElementsByClassName("options_checkbox")).forEach(a=>{a.checked="true"==getUrlParams$$module$js$utils$Browser().get(checkboxIdToParamName$$module$js$ui$DomController(a.id))})}const OPT_REPLIES$$module$js$ui$DomController="replies",OPT_MEDIA_ONLY$$module$js$ui$DomController="media_only",OPT_PUBLIC_ONLY$$module$js$ui$DomController="public_only";
function checkboxIdToParamName$$module$js$ui$DomController(a){switch(a){case "checkbox_replies":return OPT_REPLIES$$module$js$ui$DomController;case "checkbox_media":return OPT_MEDIA_ONLY$$module$js$ui$DomController;case "checkbox_public":return OPT_PUBLIC_ONLY$$module$js$ui$DomController}}
function loadPageContent$$module$js$ui$DomController(a,b){isLoading$$module$js$ui$DomController()||(loaderOn$$module$js$ui$DomController(),Promise.resolve(getDataCookie$$module$js$utils$Cookie()).then(c=>"bearer_token"in c?MastodonApi$$module$js$utils$MastodonApi.requestStatusses(c.server,a.id,b,c.bearer_token):MastodonApi$$module$js$utils$MastodonApi.requestStatusses(a.server,a.id,b)).then(function(c){c=JSON.parse(c);0<c.length&&setLastTootId$$module$js$ui$DomController(c[c.length-1].id);loadToots$$module$js$ui$DomController(c)}))}
function loadToots$$module$js$ui$DomController(a){log$$module$js$ui$DomController.d("Loading toots:",a);let b=getDataCookie$$module$js$utils$Cookie();a.filter(c=>!c.reblog).filter(c=>"true"==getUrlParams$$module$js$utils$Browser().get(OPT_REPLIES$$module$js$ui$DomController)||!c.in_reply_to_id&&!c.in_reply_to_account_id).filter(c=>"true"!=getUrlParams$$module$js$utils$Browser().get(OPT_PUBLIC_ONLY$$module$js$ui$DomController)||"public"==c.visibility).filter(c=>"true"!=getUrlParams$$module$js$utils$Browser().get(OPT_MEDIA_ONLY$$module$js$ui$DomController)||
0<c.media_attachments.length).forEach(c=>{isLoggedIn$$module$js$ui$DomController()&&(c.localized_profile_url=`https://${b.server}/${getTargetUserData$$module$js$ui$DomController().handle}`,c.localized_toot_url=`https://${b.server}/${getTargetUserData$$module$js$ui$DomController().handle}/${c.id}`);document.getElementById("tweet_list").appendChild((new TootHtmlBuilder$$module$js$ui$TootHtmlBuilder).createTootDomItem(c))});loaderOff$$module$js$ui$DomController();addPostLoadListeners$$module$js$ui$DomController();
window.addEventListener("scroll",checkInfiniteScroll$$module$js$ui$DomController)}
function addPostLoadListeners$$module$js$ui$DomController(){addUniqueClickListenerForId$$module$js$ui$Utils("loadMoreEvent","down_arrow",function(){loadPageContent$$module$js$ui$DomController(getTargetUserData$$module$js$ui$DomController(),getLastTootId$$module$js$ui$DomController())});addUniqueClickListenerForEachOfClass$$module$js$ui$Utils("copyEvent","btn_action_copy",a=>{a=a.target.closest(".single_tweet_wrap");log$$module$js$ui$DomController.d("Clicked copy:"+a.dataset.tootUrl);copyToClipboard$$module$js$utils$System(a.dataset.tootUrl);
showSnacSuccess$$module$js$ui$Snacbar("Copied toot url. Now paste it in your mastodon search.")});isLoggedIn$$module$js$ui$DomController()&&Array.from(document.getElementsByClassName("toot_footer_btn")).forEach(a=>{a.classList.add("enabled")});addUniqueClickListenerForEachOfClass$$module$js$ui$Utils("boostClickEvent","btn_action_boost",a=>{if(isLoggedIn$$module$js$ui$DomController()){var b=a.target;a=b.closest(".single_tweet_wrap");b=b.closest(".toot_footer_btn");const c=getDataCookie$$module$js$utils$Cookie(),
d=a.querySelector(".text_boost_count");b.classList.contains("active")?(MastodonApi$$module$js$utils$MastodonApi.unboost(c.server,c.bearer_token,a.dataset.tootId).then(e=>{d.textContent=(parseInt(d.textContent)-1).toString();console.log("Successfully unboosted.")}),b.classList.remove("active"),b.title="Boost"):(MastodonApi$$module$js$utils$MastodonApi.boost(c.server,c.bearer_token,a.dataset.tootId).then(e=>{d.textContent=(parseInt(d.textContent)+1).toString();console.log("Successfully boosted.")}),
b.classList.add("active"),b.title="Unboost")}else showSnacError$$module$js$ui$Snacbar("Please log in or just copy the link.")});addUniqueClickListenerForEachOfClass$$module$js$ui$Utils("favoriteClickEvent","btn_action_favorite",a=>{if(isLoggedIn$$module$js$ui$DomController()){var b=a.target;a=b.closest(".single_tweet_wrap");b=b.closest(".toot_footer_btn");const c=a.querySelector(".text_favorite_count"),d=getDataCookie$$module$js$utils$Cookie();b.classList.contains("active")?(MastodonApi$$module$js$utils$MastodonApi.unfavorite(d.server,
d.bearer_token,a.dataset.tootId).then(e=>{c.textContent=(parseInt(c.textContent)-1).toString();console.log("Successfully unfaved.")}),b.classList.remove("active"),b.title="Favorite"):(MastodonApi$$module$js$utils$MastodonApi.favorite(d.server,d.bearer_token,a.dataset.tootId).then(e=>{c.textContent=(parseInt(c.textContent)+1).toString();console.log("Successfully faved.")}),b.classList.add("active"),b.title="Unfavorite")}else showSnacError$$module$js$ui$Snacbar("Please log in or just copy the link.")});
addUniqueClickListenerForEachOfClass$$module$js$ui$Utils("contentWarningClickEvent","content_warning",a=>{Array.from(document.getElementsByClassName(`hidden_${a.target.dataset.tootId}`)).forEach(b=>{toggleHiddenElement$$module$js$ui$Utils(b)})});addUniqueClickListenerForEachOfClass$$module$js$ui$Utils("tootPicClickEvent","toot_pic",a=>{showImageModal$$module$js$ui$Modal(a.target.src)})}
function checkInfiniteScroll$$module$js$ui$DomController(){window.innerHeight+window.pageYOffset>=document.body.offsetHeight&&loadPageContent$$module$js$ui$DomController(getTargetUserData$$module$js$ui$DomController(),getLastTootId$$module$js$ui$DomController())}function isLoading$$module$js$ui$DomController(){return"none"==document.getElementById("down_arrow").style.display}function isLoggedIn$$module$js$ui$DomController(){return"bearer_token"in getDataCookie$$module$js$utils$Cookie()}
function loaderOn$$module$js$ui$DomController(){document.getElementById("loader").style.display="block";document.getElementById("down_arrow").style.display="none"}function loaderOff$$module$js$ui$DomController(){document.getElementById("loader").style.display="none";document.getElementById("down_arrow").style.display="inline-block"}function setTargetUserData$$module$js$ui$DomController(a){g_targetUserData$$module$js$ui$DomController=a}
function getTargetUserData$$module$js$ui$DomController(){return g_targetUserData$$module$js$ui$DomController}function setLastTootId$$module$js$ui$DomController(a){g_lastTootId$$module$js$ui$DomController=a}function getLastTootId$$module$js$ui$DomController(){return g_lastTootId$$module$js$ui$DomController}var module$js$ui$DomController={};module$js$ui$DomController.addInitialListeners=addInitialListeners$$module$js$ui$DomController;module$js$ui$DomController.checkInfiniteScroll=checkInfiniteScroll$$module$js$ui$DomController;
module$js$ui$DomController.getLastTootId=getLastTootId$$module$js$ui$DomController;module$js$ui$DomController.getTargetUserData=getTargetUserData$$module$js$ui$DomController;module$js$ui$DomController.isLoading=isLoading$$module$js$ui$DomController;module$js$ui$DomController.isLoggedIn=isLoggedIn$$module$js$ui$DomController;module$js$ui$DomController.loadPageContent=loadPageContent$$module$js$ui$DomController;module$js$ui$DomController.loadToots=loadToots$$module$js$ui$DomController;
module$js$ui$DomController.loaderOff=loaderOff$$module$js$ui$DomController;module$js$ui$DomController.loaderOn=loaderOn$$module$js$ui$DomController;module$js$ui$DomController.setLastTootId=setLastTootId$$module$js$ui$DomController;module$js$ui$DomController.setTargetUserData=setTargetUserData$$module$js$ui$DomController;module$js$ui$DomController.updateOptionsStates=updateOptionsStates$$module$js$ui$DomController;const test_toots$$module$js$testData=[{id:"109472499431799134",created_at:"2022-12-07T12:56:16.979Z",in_reply_to_id:null,in_reply_to_account_id:null,sensitive:!0,spoiler_text:"Content Warning",visibility:"public",language:"en",uri:"https://ohai.social/users/cookie_mumbles/statuses/109472499431799134",url:"https://ohai.social/@cookie_mumbles/109472499431799134",replies_count:0,reblogs_count:1,favourites_count:3,edited_at:null,content:"<p>CONTENT</p><p>(told ya)</p>",reblog:null,application:null,account:{id:"109380999955395974",
username:"cookie_mumbles",acct:"cookie_mumbles",display_name:"Cookie Mumbles",locked:!1,bot:!1,discoverable:!1,group:!1,created_at:"2022-11-21T00:00:00.000Z",note:'<p>Friendly cis cookie on a quest to make you chuckle</p><p>My toots -&gt; <a href="https://justmytoots.com/cookie_mumbles@ohai.social" target="_blank" rel="nofollow noopener noreferrer"><span class="invisible">https://</span><span class="ellipsis">justmytoots.com/cookie_mumbles</span><span class="invisible">@ohai.social</span></a></p><p>best-of etc on twitter -&gt; <a href="https://linktr.ee/cookie_mumbles" target="_blank" rel="nofollow noopener noreferrer"><span class="invisible">https://</span><span class="">linktr.ee/cookie_mumbles</span><span class="invisible"></span></a></p><p><a href="https://ohai.social/tags/fedi22" class="mention hashtag" rel="tag">#<span>fedi22</span></a><br /><a href="https://ohai.social/tags/jokes" class="mention hashtag" rel="tag">#<span>jokes</span></a> <a href="https://ohai.social/tags/fun" class="mention hashtag" rel="tag">#<span>fun</span></a> <a href="https://ohai.social/tags/nobot" class="mention hashtag" rel="tag">#<span>nobot</span></a> <a href="https://ohai.social/tags/joke" class="mention hashtag" rel="tag">#<span>joke</span></a> <a href="https://ohai.social/tags/humor" class="mention hashtag" rel="tag">#<span>humor</span></a> <a href="https://ohai.social/tags/trending" class="mention hashtag" rel="tag">#<span>trending</span></a> <a href="https://ohai.social/tags/funny" class="mention hashtag" rel="tag">#<span>funny</span></a></p>',
url:"https://ohai.social/@cookie_mumbles",avatar:"https://files.ohai.social/accounts/avatars/109/380/999/955/395/974/original/fcf1fa4565af0718.png",avatar_static:"https://files.ohai.social/accounts/avatars/109/380/999/955/395/974/original/c814d08a32d2a639.png",header:"https://files.ohai.social/accounts/headers/109/380/999/955/395/974/original/9c502235dd1c0795.jpeg",header_static:"https://files.ohai.social/accounts/headers/109/380/999/955/395/974/original/9c502235dd1c0795.jpeg",followers_count:355,
following_count:284,statuses_count:566,last_status_at:"2022-12-07",noindex:!1,emojis:[],role:null,fields:[]},media_attachments:[],mentions:[],tags:[],emojis:[],card:null,poll:null},{id:"109683800922113496",created_at:"2023-01-13T20:33:01.842Z",in_reply_to_id:"109683797485314862",in_reply_to_account_id:"109466064772943163",sensitive:!1,spoiler_text:"",visibility:"unlisted",language:"en",uri:"https://techhub.social/users/cookie_mumbles/statuses/109683800922113496",url:"https://techhub.social/@cookie_mumbles/109683800922113496",
replies_count:0,reblogs_count:0,favourites_count:0,edited_at:null,favourited:!1,reblogged:!1,muted:!1,bookmarked:!1,pinned:!1,content:"<p>Looks good. How about replies?</p>",filtered:[],reblog:null,application:{name:"Web",website:null},account:{id:"109466064772943163",username:"cookie_mumbles",acct:"cookie_mumbles",display_name:"Cookie Codes",locked:!1,bot:!1,discoverable:!0,group:!1,created_at:"2022-12-06T00:00:00.000Z",note:'<p>Software developer that makes jokes over at <span class="h-card"><a href="https://ohai.social/@cookie_mumbles" class="u-url mention">@<span>cookie_mumbles</span></a></span> and jokes and chats about software and other stuff here.</p><p>\u2029\u2029Creater of <a href="https://justmytoots.com" target="_blank" rel="nofollow noopener noreferrer"><span class="invisible">https://</span><span class="">justmytoots.com</span><span class="invisible"></span></a>\u2029\u2029\u2029</p><p>Github: <a href="https://github.com/cookiemumbles" target="_blank" rel="nofollow noopener noreferrer"><span class="invisible">https://</span><span class="">github.com/cookiemumbles</span><span class="invisible"></span></a></p>',
url:"https://techhub.social/@cookie_mumbles",avatar:"https://files.techhub.social/accounts/avatars/109/466/064/772/943/163/original/be9f6fc721dd03a8.png",avatar_static:"https://files.techhub.social/accounts/avatars/109/466/064/772/943/163/original/be9f6fc721dd03a8.png",header:"https://files.techhub.social/accounts/headers/109/466/064/772/943/163/original/a5372985ca1dd032.jpeg",header_static:"https://files.techhub.social/accounts/headers/109/466/064/772/943/163/original/a5372985ca1dd032.jpeg",followers_count:26,
following_count:71,statuses_count:125,last_status_at:"2023-01-13",noindex:!1,emojis:[],fields:[{name:"Main account",value:'<a href="https://ohai.social/@cookie_mumbles" target="_blank" rel="nofollow noopener noreferrer me"><span class="invisible">https://</span><span class="">ohai.social/@cookie_mumbles</span><span class="invisible"></span></a>',verified_at:null},{name:"My Toots",value:'<a href="https://justmytoots.com/@cookie_mumbles@techhub.social" target="_blank" rel="nofollow noopener noreferrer me"><span class="invisible">https://</span><span class="ellipsis">justmytoots.com/@cookie_mumble</span><span class="invisible">s@techhub.social</span></a>',
verified_at:null}]},media_attachments:[],mentions:[],tags:[],emojis:[],card:null,poll:null,localized_profile_url:"https://techhub.social/@cookie_mumbles@techhub.social",localized_toot_url:"https://techhub.social/@cookie_mumbles@techhub.social/109683800922113496"},{id:"109683797485314862",created_at:"2023-01-13T20:32:09.405Z",in_reply_to_id:null,in_reply_to_account_id:null,sensitive:!1,spoiler_text:"",visibility:"unlisted",language:"en",uri:"https://techhub.social/users/cookie_mumbles/statuses/109683797485314862",
url:"https://techhub.social/@cookie_mumbles/109683797485314862",replies_count:1,reblogs_count:0,favourites_count:0,edited_at:null,favourited:!1,reblogged:!1,muted:!1,bookmarked:!1,pinned:!1,content:"<p>Let&#39;s see if we can filter out &#39;unlisted&#39; toots.</p>",filtered:[],reblog:null,application:{name:"Web",website:null},account:{id:"109466064772943163",username:"cookie_mumbles",acct:"cookie_mumbles",display_name:"Cookie Codes",locked:!1,bot:!1,discoverable:!0,group:!1,created_at:"2022-12-06T00:00:00.000Z",
note:"",url:"https://techhub.social/@cookie_mumbles",avatar:"https://files.techhub.social/accounts/avatars/109/466/064/772/943/163/original/be9f6fc721dd03a8.png",avatar_static:"https://files.techhub.social/accounts/avatars/109/466/064/772/943/163/original/be9f6fc721dd03a8.png",header:"https://files.techhub.social/accounts/headers/109/466/064/772/943/163/original/a5372985ca1dd032.jpeg",header_static:"https://files.techhub.social/accounts/headers/109/466/064/772/943/163/original/a5372985ca1dd032.jpeg",
followers_count:26,following_count:71,statuses_count:125,last_status_at:"2023-01-13",noindex:!1,emojis:[],fields:[{name:"Main account",value:'<a href="https://ohai.social/@cookie_mumbles" target="_blank" rel="nofollow noopener noreferrer me"><span class="invisible">https://</span><span class="">ohai.social/@cookie_mumbles</span><span class="invisible"></span></a>',verified_at:null},{name:"My Toots",value:'<a href="https://justmytoots.com/@cookie_mumbles@techhub.social" target="_blank" rel="nofollow noopener noreferrer me"><span class="invisible">https://</span><span class="ellipsis">justmytoots.com/@cookie_mumble</span><span class="invisible">s@techhub.social</span></a>',
verified_at:null}]},media_attachments:[],mentions:[],tags:[],emojis:[],card:null,poll:null,localized_profile_url:"https://techhub.social/@cookie_mumbles@techhub.social",localized_toot_url:"https://techhub.social/@cookie_mumbles@techhub.social/109683797485314862"},{id:"109463245078881912",created_at:"2022-12-05T21:42:46.756Z",in_reply_to_id:null,in_reply_to_account_id:null,sensitive:!1,spoiler_text:"",visibility:"public",language:"en",uri:"https://ohai.social/users/cookie_mumbles/statuses/109463245078881912",
url:"https://ohai.social/@cookie_mumbles/109463245078881912",replies_count:0,reblogs_count:2,favourites_count:2,edited_at:null,content:"<p>Shady figure: hey pssst! Wanna *opens coat revealing assortment of coke cans* Taste the Feeling?</p>",reblog:null,application:{name:"Metatext",website:"https://metabolist.org/metatext"},account:{id:"109380999955395974",username:"cookie_mumbles",acct:"cookie_mumbles",display_name:"Cookie Mumbles",locked:!1,bot:!1,discoverable:!1,group:!1,created_at:"2022-11-21T00:00:00.000Z",
note:'<p>Friendly cis cookie on a quest to make you chuckle</p><p>My toots -&gt; <a href="https://justmytoots.com/cookie_mumbles@ohai.social" target="_blank" rel="nofollow noopener noreferrer"><span class="invisible">https://</span><span class="ellipsis">justmytoots.com/cookie_mumbles</span><span class="invisible">@ohai.social</span></a></p><p>best-of etc on twitter -&gt; <a href="https://linktr.ee/cookie_mumbles" target="_blank" rel="nofollow noopener noreferrer"><span class="invisible">https://</span><span class="">linktr.ee/cookie_mumbles</span><span class="invisible"></span></a></p><p><a href="https://ohai.social/tags/fedi22" class="mention hashtag" rel="tag">#<span>fedi22</span></a><br /><a href="https://ohai.social/tags/jokes" class="mention hashtag" rel="tag">#<span>jokes</span></a> <a href="https://ohai.social/tags/fun" class="mention hashtag" rel="tag">#<span>fun</span></a> <a href="https://ohai.social/tags/nobot" class="mention hashtag" rel="tag">#<span>nobot</span></a> <a href="https://ohai.social/tags/joke" class="mention hashtag" rel="tag">#<span>joke</span></a> <a href="https://ohai.social/tags/humor" class="mention hashtag" rel="tag">#<span>humor</span></a> <a href="https://ohai.social/tags/trending" class="mention hashtag" rel="tag">#<span>trending</span></a> <a href="https://ohai.social/tags/funny" class="mention hashtag" rel="tag">#<span>funny</span></a></p>',
url:"https://ohai.social/@cookie_mumbles",avatar:"https://files.ohai.social/accounts/avatars/109/380/999/955/395/974/original/fcf1fa4565af0718.png",avatar_static:"https://files.ohai.social/accounts/avatars/109/380/999/955/395/974/original/c814d08a32d2a639.png",header:"https://files.ohai.social/accounts/headers/109/380/999/955/395/974/original/9c502235dd1c0795.jpeg",header_static:"https://files.ohai.social/accounts/headers/109/380/999/955/395/974/original/9c502235dd1c0795.jpeg",followers_count:355,
following_count:284,statuses_count:566,last_status_at:"2022-12-07",noindex:!1,emojis:[],role:null,fields:[]},media_attachments:[],mentions:[],tags:[],emojis:[],card:null,poll:null},{id:"109447955769349950",created_at:"2022-12-03T04:54:30.412Z",in_reply_to_id:null,in_reply_to_account_id:null,sensitive:!1,spoiler_text:"",visibility:"public",language:"en",uri:"https://beige.party/users/professorkiosk/statuses/109447955769349950",url:"https://beige.party/@professorkiosk/109447955769349950",replies_count:0,
reblogs_count:5,favourites_count:11,edited_at:"2022-12-05T02:00:09.558Z",content:"<p>me: tripping on acid is crazy</p><p>my therapist:</p>",reblog:null,application:{name:"Mastodon for iOS",website:"https://app.joinmastodon.org/ios"},account:{id:"109348062348732026",username:"professorkiosk",acct:"professorkiosk",display_name:"Professor Kiosk :bc:",locked:!1,bot:!1,discoverable:!0,group:!1,created_at:"2022-11-15T00:00:00.000Z",note:'<p>\ud83c\udff3\ufe0f\u200d\ud83c\udf08 He / Him \ud83d\ude0b Twitter refugee \ud83d\udca5 If you want my professional opinion, you\u2019re crazy \ud83d\udc49 More random stuff: <a href="http://www.justmytoots.com/professorkiosk@beige.party" target="_blank" rel="nofollow noopener noreferrer"><span class="invisible">http://www.</span><span class="ellipsis">justmytoots.com/professorkiosk</span><span class="invisible">@beige.party</span></a></p>',
url:"https://beige.party/@professorkiosk",avatar:"https://files.ohai.social/cache/accounts/avatars/109/348/338/288/355/816/original/5f99304e9d0a1fe3.png",avatar_static:"https://media.beige.party/accounts/avatars/109/348/062/348/732/026/original/d95af2bf43ad2337.png",header:"https://media.beige.party/accounts/headers/109/348/062/348/732/026/original/7922b66ee77780b8.jpeg",header_static:"https://media.beige.party/accounts/headers/109/348/062/348/732/026/original/7922b66ee77780b8.jpeg",followers_count:616,
following_count:313,statuses_count:2300,last_status_at:"2022-12-08",noindex:!1,emojis:[{shortcode:"bc",url:"https://media.beige.party/custom_emojis/images/000/005/508/original/d624e50d6662217c.png",static_url:"https://media.beige.party/custom_emojis/images/000/005/508/static/d624e50d6662217c.png",visible_in_picker:!1}],fields:[]},media_attachments:[{id:"109447938633453606",type:"image",url:"https://media.beige.party/media_attachments/files/109/447/938/633/453/606/original/9faf3b6477cbf8b7.jpg",preview_url:"https://media.beige.party/media_attachments/files/109/447/938/633/453/606/small/9faf3b6477cbf8b7.jpg",
remote_url:null,preview_remote_url:null,text_url:null,meta:{original:{width:1200,height:755,size:"1200x755",aspect:1.5894039735099337},small:{width:504,height:317,size:"504x317",aspect:1.5899053627760253}},description:"Picture of the white mare from Feherlofia, Son of the White Mare (1981), a psychedelic animated film. The white mare is frowning as the universe spreads out behind her. ",blurhash:"UuFP]v%MDNV@I9M}RnV@xvn$kDoztRt7V@WE"}],mentions:[],tags:[],emojis:[],card:null,poll:null},{id:"109453798767095045",
created_at:"2022-12-04T05:40:27.482Z",in_reply_to_id:null,in_reply_to_account_id:null,sensitive:!0,spoiler_text:"Slightly lewd",visibility:"public",language:"en",uri:"https://beige.party/users/theropologist/statuses/109453798767095045",url:"https://beige.party/@theropologist/109453798767095045",replies_count:1,reblogs_count:6,favourites_count:9,edited_at:null,content:"<p>I was trying to come up with ideas for toots but I got a three-word erotic story instead</p>",reblog:null,application:{name:"Tusky",
website:"https://tusky.app"},account:{id:"109299637985035781",username:"theropologist",acct:"theropologist",display_name:"Velocirooster adminensis :bc:",locked:!1,bot:!1,discoverable:!0,group:!1,created_at:"2022-11-07T00:00:00.000Z",note:"<p>In the middle like a bird without a beak \ud83d\udc13 Admin of this here instance \ud83e\udd96 I have no idea what I&#39;m doing \ud83e\udda3</p>",url:"https://beige.party/@theropologist",avatar:"https://media.beige.party/accounts/avatars/109/299/637/985/035/781/original/6548e1079520217f.jpg",
avatar_static:"https://media.beige.party/accounts/avatars/109/299/637/985/035/781/original/6548e1079520217f.jpg",header:"https://media.beige.party/accounts/headers/109/299/637/985/035/781/original/aae601f9855a95e1.jpg",header_static:"https://media.beige.party/accounts/headers/109/299/637/985/035/781/original/aae601f9855a95e1.jpg",followers_count:1012,following_count:1276,statuses_count:4059,last_status_at:"2022-12-08",noindex:!1,emojis:[{shortcode:"bc",url:"https://media.beige.party/custom_emojis/images/000/005/508/original/d624e50d6662217c.png",
static_url:"https://media.beige.party/custom_emojis/images/000/005/508/static/d624e50d6662217c.png",visible_in_picker:!1}],fields:[{name:"Avi by",value:'<a href="https://featherdust.com/" target="_blank" rel="nofollow noopener noreferrer me"><span class="invisible">https://</span><span class="">featherdust.com/</span><span class="invisible"></span></a>',verified_at:null},{name:"Pronouns",value:"he/him",verified_at:null},{name:"My Toots",value:'<a href="https://justmytoots.com/theropologist@beige.party" target="_blank" rel="nofollow noopener noreferrer me"><span class="invisible">https://</span><span class="ellipsis">justmytoots.com/theropologist@</span><span class="invisible">beige.party</span></a>',
verified_at:null},{name:"Donations",value:'<a href="https://ko-fi.com/drinky" target="_blank" rel="nofollow noopener noreferrer me"><span class="invisible">https://</span><span class="">ko-fi.com/drinky</span><span class="invisible"></span></a>',verified_at:null}]},media_attachments:[{id:"109453787303087423",type:"image",url:"https://media.beige.party/media_attachments/files/109/453/787/303/087/423/original/b442a2ecb39dcb22.jpg",preview_url:"https://media.beige.party/media_attachments/files/109/453/787/303/087/423/small/b442a2ecb39dcb22.jpg",
remote_url:null,preview_remote_url:null,text_url:null,meta:{original:{width:1063,height:1110,size:"1063x1110",aspect:.9576576576576576},small:{width:391,height:408,size:"391x408",aspect:.9583333333333334}},description:"Screenshot of a random word generator website. The three random words are crash, screw, and enjoy.",blurhash:"U9Q,L201_3?bIU9ZIUs:%2xaR*Rk%L%2t7NH"}],mentions:[],tags:[],emojis:[],card:null,poll:null}];var module$js$testData={};module$js$testData.test_toots=test_toots$$module$js$testData;var log$$module$js$main=new Logger$$module$js$utils$Logger;
function main$$module$js$main(){addInitialListeners$$module$js$ui$DomController();updateOptionsStates$$module$js$ui$DomController();try{setTargetUserData$$module$js$ui$DomController(getUserDataFromUrl$$module$js$utils$Browser())}catch(a){displayMissingUserMessage$$module$js$ui$ErrorScreen(a);return}getUrlParams$$module$js$utils$Browser().has("testdata")?loadToots$$module$js$ui$DomController(test_toots$$module$js$testData):handleLoginPartTwoOrContinue$$module$js$login().then(()=>{verifyLoginOrContinue$$module$js$login()}).then(()=>
{if("bearer_token"in getDataCookie$$module$js$utils$Cookie()){const a=getDataCookie$$module$js$utils$Cookie();return MastodonApi$$module$js$utils$MastodonApi.getAccountInfo(a.server,getTargetUserData$$module$js$ui$DomController().handle,a.bearer_token)}return MastodonApi$$module$js$utils$MastodonApi.getAccountInfo(getTargetUserData$$module$js$ui$DomController().server,getTargetUserData$$module$js$ui$DomController().handle)}).then(a=>{const b=JSON.parse(a);log$$module$js$main.t("resultUserData:",b);
a=getTargetUserData$$module$js$ui$DomController();const c=[`https://justmytoots.com/${a.handle}`,`https://justmytoots.com/${a.userName}@${a.server}`];if(c.some(d=>b.note.includes(d))||b.fields.some(d=>c.some(e=>d.value.includes(e))))log$$module$js$main.d("consent granted");else throw new NoConsentError$$module$js$ui$ErrorScreen(a);a.id=b.id;a.avatar=b.avatar;a.display_name=b.display_name;a.url=b.url;log$$module$js$main.d("Enriched target user data:",a);setTargetUserData$$module$js$ui$DomController(a);
loadPageContent$$module$js$ui$DomController(a)}).catch(a=>{a instanceof NoConsentError$$module$js$ui$ErrorScreen?displayNoConsentError$$module$js$ui$ErrorScreen(a):displayServerError$$module$js$ui$ErrorScreen(a)})}document.addEventListener("DOMContentLoaded",function(){main$$module$js$main()});var module$js$main={};
